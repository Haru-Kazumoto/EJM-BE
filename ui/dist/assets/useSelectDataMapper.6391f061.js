import{as as p,at as P,au as M,av as x,aw as b,ax as m,r as d}from"./index.4df5dae3.js";class N extends p{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:P()},t)}getOptimisticResult(e){return e.behavior=P(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var s,c,i,a,h,u;const{state:n}=e,o=super.createResult(e,t),{isFetching:f,isRefetching:v}=o,g=f&&((s=n.fetchMeta)==null||(c=s.fetchMore)==null?void 0:c.direction)==="forward",l=f&&((i=n.fetchMeta)==null||(a=i.fetchMore)==null?void 0:a.direction)==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:M(t,(h=n.data)==null?void 0:h.pages),hasPreviousPage:x(t,(u=n.data)==null?void 0:u.pages),isFetchingNextPage:g,isFetchingPreviousPage:l,isRefetching:v&&!g&&!l}}}function O(r,e,t){const s=b(r,e,t);return m(s,N)}const Q=({isSuccess:r=!1,data:e,key:t="",append:s=[],filterFn:c=()=>!0,returnList:i})=>d.exports.useMemo(()=>r?e&&(e==null?void 0:e.pages)&&(e==null?void 0:e.pages.length)>0?s.concat(...e==null?void 0:e.pages.map(a=>a[t].length>0?a[t].filter(c).map(h=>i&&i(h)):[])):[]:[],[e,r]);export{Q as a,O as u};
