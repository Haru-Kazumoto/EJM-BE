import{ak as o,R as f,r as x,a as l,j as y,h as b,an as k,T as M}from"./index.4df5dae3.js";import{G as N,a as v}from"./useGetPrevPageParam.cb1386c2.js";import{u as A}from"./useDebounce.b8118708.js";import{u as B,a as D}from"./useSelectDataMapper.6391f061.js";import{S as L}from"./select.0fe29549.js";const T=async({pageSize:t,current:s,search:e,value:a,type:r})=>{const n=e&&e!=""?`&search=${e}`:"",c=a?`&value=${a}`:"";return(await o.get(`/master-lookup?type=${r}&page=${s!=null?s:1}&page_size=${t!=null?t:10}`+n+c)).data},G=f.forwardRef(({name:t,onChange:s,onBlur:e,value:a,isMulti:r=!1,placeholder:n,type_:c="",disabled:$=!1},i)=>{const[d,p]=x.exports.useState(""),j=A(d,1e3),{fetchNextPage:w,hasNextPage:P,isError:m,isSuccess:_,isLoading:g,data:q,isFetchingNextPage:U}=B(["fetch_select_lookup",j,c,a],({pageParam:u=1})=>T({current:u,search:j,value:a==null?void 0:a.value,type:c,pageSize:15}),{getNextPageParam:u=>N(u),getPreviousPageParam:u=>v(u)}),h=D({isSuccess:_,data:q!=null?q:{pages:[],pageParams:[]},key:"lookup",returnList:u=>({label:u.label,value:u.value})});return l(L,{name:t,ref:i,onChange:s,onBlur:e,isDisabled:$,value:a,onInputChange:p,isMulti:r,isLoading:U||g,isClearable:!0,noOptionsMessage:({inputValue:u})=>l("div",{children:"Tidak ada pilihan"}),loadingMessage:({inputValue:u})=>y(b,{children:[y("div",{children:['Mencari "',u,'"']}),g&&l(k,{size:"xs",width:"100%",isIndeterminate:!0}),m&&l("div",{children:"Error saat mencari data"})]}),options:h,placeholder:l(M,{noOfLines:[1],children:n}),closeMenuOnScroll:!0,isSearchable:!0,onMenuScrollToBottom:async()=>{P&&await w()},closeMenuOnSelect:!0})}),E=async t=>(await o.post("/projects",t)).data,F=async({pageSize:t,current:s,search:e,project_type:a,project_status:r,company:n})=>{const c=e&&e!=""?`&search=${e}`:"",$=n?`&company=${n}`:"",i=a?`&project_type=${a}`:"",d=r?`&project_status=${r}`:"";return(await o.get(`/projects?page=${s!=null?s:1}&page_size=${t!=null?t:10}`+c+i+d+$)).data},V=async t=>(await o.get(`/projects/${t}`)).data,H=async({pageSize:t,current:s,search:e,value:a,project_id:r})=>{const n=e&&e!=""?`&search=${e}`:"",c=a?`&value=${a}`:"";return(await o.get(`/projects/users-not-assigned?page=${s!=null?s:1}&page_size=${t!=null?t:10}&project_id=${r}`+n+c)).data},J=async({id:t,projectId:s})=>(await o.delete(`/projects/assigned-user/${t}`,{data:{project_id:s}})).data,K=async({pageSize:t,current:s,search:e,value:a,project_id:r})=>{const n=e&&e!=""?`&search=${e}`:"",c=a?`&value=${a}`:"";return(await o.get(`/projects/users-assigned-paginated?page=${s!=null?s:1}&page_size=${t!=null?t:10}&project_id=${r}`+n+c)).data},W=async({pageSize:t,current:s,search:e,answered_by:a,status_answered:r,id:n,prjId:c})=>{const $=e&&e!=""?`&search=${e}`:"",i=a?`&answered_by=${a}`:"",d=r?`&status_answered=${r}`:"";return(await o.get(`/projects/questions?structure_id=${n}&project_id=${c}&page=${s!=null?s:1}&page_size=${t!=null?t:10}`+$+i+d)).data},X=async t=>(await o.delete(`/projects/${t}`)).data,Y=async t=>(await o.post("/projects/questions",t)).data,Z=async t=>(await o.post("/projects/question/answer",t)).data,S=async t=>(await o.post("/projects/assign-users",t)).data,z=async({pageSize:t,current:s,search:e,company:a})=>{const r=e&&e!=""?`&search=${e}`:"";return(await o.get(`/projects/by-company?page=${s!=null?s:1}&page_size=${t!=null?t:10}&company_id=${a}`+r)).data},tt=async({pageSize:t,current:s,search:e,project:a})=>{const r=e&&e!=""?`&search=${e}`:"";return(await o.get(`/projects/structure/by-project?page=${s!=null?s:1}&page_size=${t!=null?t:10}&project_id=${a}`+r)).data},st=async({pageSize:t,current:s,search:e,project_id:a,project_type:r,project_status:n,company_id:c,structure_id:$})=>{const i=e&&e!=""?`&search=${e}`:"",d=n?`&project_status=${n}`:"",p=r?`&project_type=${r}`:"";return(await o.get(`/projects/report/questioner?page=${s!=null?s:1}&page_size=${t!=null?t:10}&project_id=${a}&company_id=${c}&structure_id=${$}`+i+p+d)).data},et=async({payload:t,id:s})=>(await o.put(`/projects/info/${s}`,t)).data,at=async({structureId:t,projectId:s})=>(await o.get(`/projects/info-structure?structure_id=${t}&project_id=${s}`)).data,rt=async({userId:t,projectId:s})=>(await o.get(`/projects/assigned-user/${t}?project_id=${s}`)).data,ot=async({userId:t,payload:s})=>(await o.put(`/projects/assigned-user/${t}`,s)).data,nt=async({pic:t,signature:s,projectId:e,structureId:a})=>(await o.put("/projects/update-pic",{pic:t,signature:s,project_id:e,structure_id:a})).data;export{G as S,tt as a,rt as b,K as c,J as d,Y as e,H as f,F as g,et as h,X as i,V as j,E as k,nt as l,Z as m,at as n,W as o,z as p,st as q,S as s,ot as u};
