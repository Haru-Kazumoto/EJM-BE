import{P as f}from"./Page.ce903aa1.js";import{P as g}from"./PageHeader.954bf5c1.js";import{a as b}from"./FormFieldControl.b614070a.js";import{F as _}from"./FormFieldUser.28e2b755.js";import{P}from"./PagePadding.8c1b0086.js";import{S as U}from"./SaveIcon.2cbae624.js";import{u as y,g as E}from"./usersActions.d0e9b122.js";import{u as S,E as F}from"./useError.46aba7e3.js";import{aT as h,a4 as v,c as I,f as j,j as s,a,D as k,g as x,F as B}from"./index.4df5dae3.js";import{E as D}from"./ErrorFetching.5d5f8a6b.js";import{B as L}from"./index.esm.780dcd2c.js";import"./ArrowLeftIcon.0c9057ff.js";import"./FieldText.6d44809e.js";import"./FieldTextArea.823a0dbf.js";import"./EditIcon.3ffc7b25.js";import"./useGetPrevPageParam.cb1386c2.js";import"./useDebounce.b8118708.js";import"./useSelectDataMapper.6391f061.js";import"./rolesActions.b4e62bef.js";import"./select.0fe29549.js";import"./slicedToArray.556cd5c1.js";import"./objectWithoutPropertiesLoose.2d2ba74a.js";import"./index.esm.f3b9d19a.js";import"./FieldCustom.5b6685a5.js";import"./EyeIcon.a6a75016.js";import"./FieldSwitch.781e4b70.js";import"./index.esm.17aaa28e.js";import"./index.238261e4.js";import"./useTranslation.d56b7bba.js";import"./index.esm.2ca9b441.js";const le=()=>{const m=S(y),{id:o}=h(),n=v(),d=I(),{data:t,isLoading:l,isSuccess:p,isError:u}=j(["detail_user",o],()=>E(+o),{enabled:!!o});return s(f,{title:"Edit User",children:[a(g,{label:"Edit User",useBackButton:!0}),a(k,{}),s(P,{x:6,y:6,children:[l&&a(x,{}),u&&a(D,{}),p&&s(b,{onSubmit:c=>{const i=new FormData;for(const[e,r]of Object.entries(c))e==="role"?i.append("roleId",r==null?void 0:r.value):i.append(e,r);m.mutate({id:+o,data:i},{onSuccess:e=>{n({position:"top",title:"Success",description:e.message,isClosable:!0}),d("/management/users")},onError:e=>F(e,n)})},id:"form-user",initialValues:{username:t.data.username,full_name:t.data.full_name,email:t.data.email,role:{label:t.data.role.name,value:t.data.roleId},address:t.data.address,enable_login_by_link:t.data.enable_login_by_link},children:[a(_,{}),a(B,{mt:5,justifyContent:"end",children:a(L,{type:"submit",leftIcon:a(U,{}),isLoading:m.isLoading,children:"Save"})})]})]})]})};export{le as default};
