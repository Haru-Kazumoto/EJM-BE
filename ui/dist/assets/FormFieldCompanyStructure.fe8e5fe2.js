import{u as Ie,F as He,b as Cr}from"./FormFieldControl.6d022860.js";import{F as Er}from"./FieldText.629ceab0.js";import{aX as G,aY as U,E as Ge,aZ as Ue,r as p,a as l,j as A,I as Or,u as _r,ar as Se,as as H,B as Ir,F as le,T as ar,a_ as Sr,a$ as jr,b0 as Pr,N as kr,R as Lr,D as Tr}from"./index.0e24cb86.js";import{p as f}from"./Page.b0ec3cd0.js";import{F as Rr}from"./FileIcon.5750f3bf.js";import{F as se,a as ue,g as Mr,P as zr,I as Ye,d as Ze}from"./PagePadding.f9f1bdac.js";import{F as $r}from"./FieldSelect.e91ecae3.js";import{A as Br}from"./AddIcon.52f4e4fc.js";import{D as Kr}from"./DeleteIcon.85510701.js";import{I as ir}from"./index.esm.726820fc.js";import{v as Nr}from"./v4.c3af96ce.js";var Wr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function X(e,r){var t=Hr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Hr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Wr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Gr=[".DS_Store","Thumbs.db"];function Ur(e){return G(this,void 0,void 0,function(){return U(this,function(r){return ce(e)&&Yr(e.dataTransfer)?[2,Jr(e.dataTransfer,e.type)]:Zr(e)?[2,qr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Vr(e)]:[2,[]]})})}function Yr(e){return ce(e)}function Zr(e){return ce(e)&&ce(e.target)}function ce(e){return typeof e=="object"&&e!==null}function qr(e){return we(e.target.files).map(function(r){return X(r)})}function Vr(e){return G(this,void 0,void 0,function(){var r;return U(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return X(n)})]}})})}function Jr(e,r){return G(this,void 0,void 0,function(){var t,n;return U(this,function(o){switch(o.label){case 0:return e.items?(t=we(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Xr))]):[3,2];case 1:return n=o.sent(),[2,qe(sr(n))];case 2:return[2,qe(we(e.files).map(function(i){return X(i)}))]}})})}function qe(e){return e.filter(function(r){return Gr.indexOf(r.name)===-1})}function we(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Xr(e){if(typeof e.webkitGetAsEntry!="function")return Ve(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?ur(r):Ve(e)}function sr(e){return e.reduce(function(r,t){return Ge(Ge([],Ue(r),!1),Ue(Array.isArray(t)?sr(t):[t]),!1)},[])}function Ve(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=X(r);return Promise.resolve(t)}function Qr(e){return G(this,void 0,void 0,function(){return U(this,function(r){return[2,e.isDirectory?ur(e):et(e)]})})}function ur(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var c=this;r.readEntries(function(u){return G(c,void 0,void 0,function(){var g,E,y;return U(this,function(x){switch(x.label){case 0:if(u.length)return[3,5];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return g=x.sent(),t(g),[3,4];case 3:return E=x.sent(),n(E),[3,4];case 4:return[3,6];case 5:y=Promise.all(u.map(Qr)),o.push(y),i(),x.label=6;case 6:return[2]}})})},function(u){n(u)})}i()})}function et(e){return G(this,void 0,void 0,function(){return U(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=X(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var rt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?i===u.replace(/\/.*$/,""):o===u})}return!0};function Je(e){return ot(e)||nt(e)||cr(e)||tt()}function tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ot(e){if(Array.isArray(e))return Ce(e)}function Xe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Qe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xe(Object(t),!0).forEach(function(n){lr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function J(e,r){return st(e)||it(e,r)||cr(e,r)||at()}function at(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(e,r){if(!!e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function it(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,c,u;try{for(t=t.call(e);!(o=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function st(e){if(Array.isArray(e))return e}var ut="file-invalid-type",lt="file-too-large",ct="file-too-small",pt="too-many-files",ft=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ut,message:"File type must be ".concat(t)}},er=function(r){return{code:lt,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},rr=function(r){return{code:ct,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},dt={code:pt,message:"Too many files"};function pr(e,r){var t=e.type==="application/x-moz-file"||rt(e,r);return[t,t?null:ft(r)]}function fr(e,r,t){if($(e.size))if($(r)&&$(t)){if(e.size>t)return[!1,er(t)];if(e.size<r)return[!1,rr(r)]}else{if($(r)&&e.size<r)return[!1,rr(r)];if($(t)&&e.size>t)return[!1,er(t)]}return[!0,null]}function $(e){return e!=null}function mt(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,c=e.maxFiles,u=e.validator;return!i&&r.length>1||i&&c>=1&&r.length>c?!1:r.every(function(g){var E=pr(g,t),y=J(E,1),x=y[0],_=fr(g,n,o),I=J(_,1),S=I[0],j=u?u(g):null;return x&&S&&!j})}function pe(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ie(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tr(e){e.preventDefault()}function gt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ht(e){return e.indexOf("Edge/")!==-1}function vt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return gt(e)||ht(e)}function T(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];return r.some(function(u){return!pe(n)&&u&&u.apply(void 0,[n].concat(i)),pe(n)})}}function yt(){return"showOpenFilePicker"in window}function bt(e){if($(e)){var r=Object.entries(e).filter(function(t){var n=J(t,2),o=n[0],i=n[1],c=!0;return dr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(i)||!i.every(mr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,n){var o=J(n,2),i=o[0],c=o[1];return Qe(Qe({},t),{},lr({},i,c))},{});return[{description:"Files",accept:r}]}return e}function xt(e){if($(e))return Object.entries(e).reduce(function(r,t){var n=J(t,2),o=n[0],i=n[1];return[].concat(Je(r),[o],Je(i))},[]).filter(function(r){return dr(r)||mr(r)}).join(",")}function Dt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Ft(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function dr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function mr(e){return/^.*\.[\w]+$/.test(e)}var At=["children"],wt=["open"],Ct=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Et=["refKey","onChange","onClick"];function Ot(e){return St(e)||It(e)||gr(e)||_t()}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function St(e){if(Array.isArray(e))return Ee(e)}function Ae(e,r){return kt(e)||Pt(e,r)||gr(e,r)||jt()}function jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,r){if(!!e){if(typeof e=="string")return Ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(e,r)}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Pt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,c,u;try{for(t=t.call(e);!(o=(c=t.next()).done)&&(n.push(c.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,u=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function kt(e){if(Array.isArray(e))return e}function nr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nr(Object(t),!0).forEach(function(n){Oe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fe(e,r){if(e==null)return{};var t=Lt(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function Lt(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var je=p.exports.forwardRef(function(e,r){var t=e.children,n=fe(e,At),o=vr(n),i=o.open,c=fe(o,wt);return p.exports.useImperativeHandle(r,function(){return{open:i}},[i]),l(p.exports.Fragment,{children:t(m(m({},c),{},{open:i}))})});je.displayName="Dropzone";var hr={disabled:!1,getFilesFromEvent:Ur,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};je.defaultProps=hr;je.propTypes={children:f.exports.func,accept:f.exports.objectOf(f.exports.arrayOf(f.exports.string)),multiple:f.exports.bool,preventDropOnDocument:f.exports.bool,noClick:f.exports.bool,noKeyboard:f.exports.bool,noDrag:f.exports.bool,noDragEventsBubbling:f.exports.bool,minSize:f.exports.number,maxSize:f.exports.number,maxFiles:f.exports.number,disabled:f.exports.bool,getFilesFromEvent:f.exports.func,onFileDialogCancel:f.exports.func,onFileDialogOpen:f.exports.func,useFsAccessApi:f.exports.bool,autoFocus:f.exports.bool,onDragEnter:f.exports.func,onDragLeave:f.exports.func,onDragOver:f.exports.func,onDrop:f.exports.func,onDropAccepted:f.exports.func,onDropRejected:f.exports.func,onError:f.exports.func,validator:f.exports.func};var _e={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=m(m({},hr),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,c=r.minSize,u=r.multiple,g=r.maxFiles,E=r.onDragEnter,y=r.onDragLeave,x=r.onDragOver,_=r.onDrop,I=r.onDropAccepted,S=r.onDropRejected,j=r.onFileDialogCancel,P=r.onFileDialogOpen,k=r.useFsAccessApi,d=r.autoFocus,D=r.preventDropOnDocument,L=r.noClick,R=r.noKeyboard,M=r.noDrag,h=r.noDragEventsBubbling,Y=r.onError,Z=r.validator,q=p.exports.useMemo(function(){return xt(t)},[t]),Pe=p.exports.useMemo(function(){return bt(t)},[t]),de=p.exports.useMemo(function(){return typeof P=="function"?P:or},[P]),Q=p.exports.useMemo(function(){return typeof j=="function"?j:or},[j]),F=p.exports.useRef(null),O=p.exports.useRef(null),br=p.exports.useReducer(Tt,_e),ke=Ae(br,2),me=ke[0],w=ke[1],xr=me.isFocused,Le=me.isFileDialogActive,ee=p.exports.useRef(typeof window<"u"&&window.isSecureContext&&k&&yt()),Te=function(){!ee.current&&Le&&setTimeout(function(){if(O.current){var s=O.current.files;s.length||(w({type:"closeDialog"}),Q())}},300)};p.exports.useEffect(function(){return window.addEventListener("focus",Te,!1),function(){window.removeEventListener("focus",Te,!1)}},[O,Le,Q,ee]);var B=p.exports.useRef([]),Re=function(s){F.current&&F.current.contains(s.target)||(s.preventDefault(),B.current=[])};p.exports.useEffect(function(){return D&&(document.addEventListener("dragover",tr,!1),document.addEventListener("drop",Re,!1)),function(){D&&(document.removeEventListener("dragover",tr),document.removeEventListener("drop",Re))}},[F,D]),p.exports.useEffect(function(){return!n&&d&&F.current&&F.current.focus(),function(){}},[F,d,n]);var z=p.exports.useCallback(function(a){Y?Y(a):console.error(a)},[Y]),Me=p.exports.useCallback(function(a){a.preventDefault(),a.persist(),oe(a),B.current=[].concat(Ot(B.current),[a.target]),ie(a)&&Promise.resolve(o(a)).then(function(s){if(!(pe(a)&&!h)){var v=s.length,b=v>0&&mt({files:s,accept:q,minSize:c,maxSize:i,multiple:u,maxFiles:g,validator:Z}),C=v>0&&!b;w({isDragAccept:b,isDragReject:C,isDragActive:!0,type:"setDraggedFiles"}),E&&E(a)}}).catch(function(s){return z(s)})},[o,E,z,h,q,c,i,u,g,Z]),ze=p.exports.useCallback(function(a){a.preventDefault(),a.persist(),oe(a);var s=ie(a);if(s&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return s&&x&&x(a),!1},[x,h]),$e=p.exports.useCallback(function(a){a.preventDefault(),a.persist(),oe(a);var s=B.current.filter(function(b){return F.current&&F.current.contains(b)}),v=s.indexOf(a.target);v!==-1&&s.splice(v,1),B.current=s,!(s.length>0)&&(w({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ie(a)&&y&&y(a))},[F,y,h]),re=p.exports.useCallback(function(a,s){var v=[],b=[];a.forEach(function(C){var V=pr(C,q),W=Ae(V,2),he=W[0],ve=W[1],ye=fr(C,c,i),ae=Ae(ye,2),be=ae[0],xe=ae[1],De=Z?Z(C):null;if(he&&be&&!De)v.push(C);else{var Fe=[ve,xe];De&&(Fe=Fe.concat(De)),b.push({file:C,errors:Fe.filter(function(wr){return wr})})}}),(!u&&v.length>1||u&&g>=1&&v.length>g)&&(v.forEach(function(C){b.push({file:C,errors:[dt]})}),v.splice(0)),w({acceptedFiles:v,fileRejections:b,type:"setFiles"}),_&&_(v,b,s),b.length>0&&S&&S(b,s),v.length>0&&I&&I(v,s)},[w,u,q,c,i,g,_,I,S,Z]),te=p.exports.useCallback(function(a){a.preventDefault(),a.persist(),oe(a),B.current=[],ie(a)&&Promise.resolve(o(a)).then(function(s){pe(a)&&!h||re(s,a)}).catch(function(s){return z(s)}),w({type:"reset"})},[o,re,z,h]),K=p.exports.useCallback(function(){if(ee.current){w({type:"openDialog"}),de();var a={multiple:u,types:Pe};window.showOpenFilePicker(a).then(function(s){return o(s)}).then(function(s){re(s,null),w({type:"closeDialog"})}).catch(function(s){Dt(s)?(Q(s),w({type:"closeDialog"})):Ft(s)?(ee.current=!1,O.current?(O.current.value=null,O.current.click()):z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):z(s)});return}O.current&&(w({type:"openDialog"}),de(),O.current.value=null,O.current.click())},[w,de,Q,k,re,z,Pe,u]),Be=p.exports.useCallback(function(a){!F.current||!F.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),K())},[F,K]),Ke=p.exports.useCallback(function(){w({type:"focus"})},[]),Ne=p.exports.useCallback(function(){w({type:"blur"})},[]),We=p.exports.useCallback(function(){L||(vt()?setTimeout(K,0):K())},[L,K]),N=function(s){return n?null:s},ge=function(s){return R?null:N(s)},ne=function(s){return M?null:N(s)},oe=function(s){h&&s.stopPropagation()},Dr=p.exports.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.refKey,v=s===void 0?"ref":s,b=a.role,C=a.onKeyDown,V=a.onFocus,W=a.onBlur,he=a.onClick,ve=a.onDragEnter,ye=a.onDragOver,ae=a.onDragLeave,be=a.onDrop,xe=fe(a,Ct);return m(m(Oe({onKeyDown:ge(T(C,Be)),onFocus:ge(T(V,Ke)),onBlur:ge(T(W,Ne)),onClick:N(T(he,We)),onDragEnter:ne(T(ve,Me)),onDragOver:ne(T(ye,ze)),onDragLeave:ne(T(ae,$e)),onDrop:ne(T(be,te)),role:typeof b=="string"&&b!==""?b:"presentation"},v,F),!n&&!R?{tabIndex:0}:{}),xe)}},[F,Be,Ke,Ne,We,Me,ze,$e,te,R,M,n]),Fr=p.exports.useCallback(function(a){a.stopPropagation()},[]),Ar=p.exports.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.refKey,v=s===void 0?"ref":s,b=a.onChange,C=a.onClick,V=fe(a,Et),W=Oe({accept:q,multiple:u,type:"file",style:{display:"none"},onChange:N(T(b,te)),onClick:N(T(C,Fr)),tabIndex:-1},v,O);return m(m({},W),V)}},[O,t,u,te,n]);return m(m({},me),{},{isFocused:xr&&!n,getRootProps:Dr,getInputProps:Ar,rootRef:F,inputRef:O,open:N(K)})}function Tt(e,r){switch(r.type){case"focus":return m(m({},e),{},{isFocused:!0});case"blur":return m(m({},e),{},{isFocused:!1});case"openDialog":return m(m({},_e),{},{isFileDialogActive:!0});case"closeDialog":return m(m({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return m(m({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return m(m({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return m({},_e);default:return e}}function or(){}const Rt=({...e})=>A(Or,{...e,children:[l("path",{d:"M12 5L11.2929 4.29289L12 3.58579L12.7071 4.29289L12 5ZM13 14C13 14.5523 12.5523 15 12 15C11.4477 15 11 14.5523 11 14L13 14ZM6.29289 9.29289L11.2929 4.29289L12.7071 5.70711L7.70711 10.7071L6.29289 9.29289ZM12.7071 4.29289L17.7071 9.29289L16.2929 10.7071L11.2929 5.70711L12.7071 4.29289ZM13 5L13 14L11 14L11 5L13 5Z",fill:"currentColor"}),l("path",{d:"M5 16L5 17C5 18.1046 5.89543 19 7 19L17 19C18.1046 19 19 18.1046 19 17V16",stroke:"currentColor",fill:"none",strokeWidth:"2"})]});function Mt(e,r=2){if(!+e)return"0 Bytes";const t=1024,n=r<0?0:r,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,i)).toFixed(n))} ${o[i]}`}const zt=({placeholder:e,formState:r,name:t,multiple:n=!1,errorMessage:o,isRequired:i,isInvalid:c,rules:u,maxFiles:g=1,accept:E={"image/png":[".png"],"image/jpeg":[".jpg"]},id:y,label:x})=>{const{register:_,unregister:I,setValue:S,watch:j}=Ie(),{colorMode:P}=_r(),k=j(t),d=p.exports.useCallback(h=>S(t,h,{shouldValidate:!0}),[S,t]),{getRootProps:D,getInputProps:L,isDragActive:R,isDragReject:M}=vr({maxFiles:g,multiple:n,onDrop:d,accept:E});return p.exports.useEffect(()=>(_(t,u),()=>{I(t)}),[_,I,t]),A(se,{isRequired:i,isInvalid:c||M,children:[l(ue,{htmlFor:y,children:x}),A(Se,{templateColumns:{base:"repeat(1,1fr)",md:"repeat(2,1fr)"},gap:5,children:[l(H,{colSpan:k&&k.length>0?1:2,children:l(Ir,{borderWidth:1,borderColor:`${P==="light"?"blackAlpha":"whiteAlpha"}.500`,width:"100%",height:"100%",_hover:{cursor:"pointer"},borderStyle:"dashed",borderRadius:10,children:A(le,{...D(),p:5,alignItems:"center",bg:R?`${P==="light"?"blackAlpha":"whiteAlpha"}.200`:"transparent",justifyContent:"center",flexDirection:"column",children:[l("input",{...L(),id:y}),l(Rt,{fontSize:200,color:`${P==="light"?"blackAlpha":"whiteAlpha"}.500`}),l(ar,{color:`${P==="light"?"blackAlpha":"whiteAlpha"}.500`,children:M?"Format File tidak didukung":R?"Drop Files Here":e})]})})}),k&&k.length>0?l(H,{children:l(Sr,{spacing:3,children:k.map((h,Y)=>l(jr,{children:A(le,{alignItems:"center",gap:3,children:[l(Pr,{as:Rr,color:"green.500"}),h.name," - ",Mt(h.size),l(kr,{})]})},Y))})}):null]}),l(Mr,{children:o})]})},Jt=()=>{const{control:e,formState:r}=Ie();return A(Se,{templateColumns:"repeat(1,1fr)",gap:5,children:[l(H,{children:l(He,{control:e,name:"name",formState:r,id:"name",label:"Nama Company",rules:{required:{value:!0,message:"Nama Role Dibutuhkan"}},children:l(Er,{})})}),l(H,{children:l(He,{control:e,name:"picture",formState:r,id:"picture",label:"Logo Perusahaan",rules:{required:{value:!1,message:"Upload dibutuhkan"}},children:l(zt,{})})})]})},yr=({items:e=[],idsToRender:r=[],indentLevel:t=0,onDelete:n})=>{r.length||(r=e.length>0&&e.filter(i=>!i.parentId||i.parentId=="0")||[]);const o=i=>{const c=e.filter(u=>u.parentId===i);return c.length?l(yr,{items:e,indentLevel:t+1,onDelete:n,idsToRender:c}):null};return l("ul",{style:{paddingLeft:t>0?20:0},children:r.length>0&&r.map((i,c)=>{var u;return A(Lr.Fragment,{children:[l("li",{style:{marginBottom:5},children:A(le,{gap:2,alignItems:"center",children:[A(ar,{children:[(i==null?void 0:i.structureCode)||"-"," -"," ",(u=i.structureName)!=null?u:i.name]}),l(ir,{"aria-label":"Delete",variant:"unstyled",onClick:()=>n(i.id),icon:l(Kr,{fontSize:28,color:"yellow.400"})})]})}),l(zr,{x:0,y:2,children:l(Tr,{})}),o(i.id)]},i.id)})})},$t=[{label:"Root",value:0}],Xt=()=>{const{control:e,watch:r}=Ie(),{append:t,remove:n}=Cr({control:e,name:"structures"}),[o,i]=p.exports.useState(""),[c,u]=p.exports.useState(""),[g,E]=p.exports.useState(null),y=r("structures"),x=y&&y.length>0&&y.map(d=>{var D,L;return{label:`${(D=d==null?void 0:d.structureCode)!=null?D:"-"} - ${(L=d.structureName)!=null?L:d.name}`,value:d.id}})||[],_=p.exports.useCallback(d=>i(d.target.value),[]),I=p.exports.useCallback(d=>u(d.target.value),[]),S=p.exports.useCallback(d=>E(d),[]),j=(d,D=[])=>{const L=y.findIndex(h=>h.id===d),R=y.find(h=>h.id===d),M=y.filter(h=>h.parentId===R.id);M.length>0?(D.push(L),M.map(h=>{j(h.id,D)})):D.push(L)},P=d=>{let D=[];j(d,D),n(D)},k=()=>{t({id:Nr(),structureName:o,structureCode:c,type:g,parentId:g.value}),u(""),i("")};return A(Se,{templateColumns:"repeat(1,1fr)",gap:5,children:[l(H,{children:A(se,{isRequired:!0,isInvalid:!1,children:[l(ue,{children:"Struktur Perusahaan"}),A(le,{gap:2,alignItems:"end",children:[A(se,{children:[l(ue,{htmlFor:"structure_code",children:"Kode Struktur"}),l(Ye,{children:l(Ze,{id:"structure_code",placeholder:"Input Kode Struktur",type:"text",value:c,onChange:I})})]}),A(se,{children:[l(ue,{htmlFor:"structure_name",children:"Nama Struktur"}),l(Ye,{children:l(Ze,{id:"structure_name",placeholder:"Input Nama Struktur",type:"text",value:o,onChange:_})})]}),l($r,{options:[...$t,...x],value:g,onChange:(d,D)=>S(d),name:"parent",isClearable:!0,id:"parent",label:"Parent"}),l(ir,{"aria-label":"Add",onClick:k,children:l(Br,{})})]})]})}),l(H,{children:l(yr,{items:y,onDelete:P})})]})};export{Jt as F,Xt as a};
