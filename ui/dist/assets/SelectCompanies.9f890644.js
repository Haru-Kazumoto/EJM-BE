import{R as M,r as N,a as r,j as i,h as b,an as y}from"./index.4df5dae3.js";import{G as C,a as j}from"./useGetPrevPageParam.cb1386c2.js";import{u as w}from"./useDebounce.b8118708.js";import{u as G,a as I}from"./useSelectDataMapper.6391f061.js";import{g as L}from"./companyActions.f4866318.js";import{S as O}from"./select.0fe29549.js";const F=M.forwardRef(({name:o,onChange:c,onBlur:m,value:a,placeholder:u},g)=>{const[p,l]=N.exports.useState(""),s=w(p,1e3),{fetchNextPage:d,hasNextPage:h,isError:P,isSuccess:S,isLoading:n,data:t,isFetchingNextPage:f}=G(["fetch_select_company",s,a],({pageParam:e=1})=>L({current:e,search:s,value:a==null?void 0:a.value,pageSize:15}),{getNextPageParam:e=>C(e),getPreviousPageParam:e=>j(e)}),x=I({isSuccess:S,data:t!=null?t:{pages:[],pageParams:[]},key:"company",returnList:e=>({label:e.name,value:e.id})});return r(O,{name:o,ref:g,onChange:c,onBlur:m,value:a,onInputChange:l,isLoading:f||n,isClearable:!0,noOptionsMessage:({inputValue:e})=>r("div",{children:"Tidak ada pilihan"}),loadingMessage:({inputValue:e})=>i(b,{children:[i("div",{children:['Mencari "',e,'"']}),n&&r(y,{size:"xs",width:"100%",isIndeterminate:!0}),P&&r("div",{children:"Error saat mencari data"})]}),options:x,placeholder:u,closeMenuOnScroll:!0,isSearchable:!0,onMenuScrollToBottom:async()=>{h&&await d()},closeMenuOnSelect:!0})});export{F as S};
