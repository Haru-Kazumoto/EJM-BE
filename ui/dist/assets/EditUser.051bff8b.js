import{a as f,P as g}from"./PagePadding.45875137.js";import{P as S}from"./PageHeader.d27f8ae4.js";import{a as U}from"./FormFieldControl.83524802.js";import{F as b}from"./FormFieldUser.31279700.js";import{S as E}from"./SaveIcon.9e5414f7.js";import{u as P,g as F}from"./usersActions.cd3a8c1d.js";import{u as h,E as v}from"./useError.d999dd2c.js";import{aS as y,a4 as I,c as j,f as x,j as i,a,D as B,g as D,F as L}from"./index.5b816863.js";import{E as _}from"./ErrorFetching.2a6dc88b.js";import{B as k}from"./index.esm.f21969b8.js";import"./ArrowLeftIcon.5e09b122.js";import"./FieldText.51c97a45.js";import"./index.esm.9250e631.js";import"./FieldTextArea.7018b180.js";import"./EditIcon.22244ff4.js";import"./useGetPrevPageParam.cb1386c2.js";import"./useDebounce.b2496c93.js";import"./useSelectDataMapper.1d7decc0.js";import"./rolesActions.68ced932.js";import"./select.c640a523.js";import"./slicedToArray.01f71b8b.js";import"./objectWithoutPropertiesLoose.2d2ba74a.js";import"./index.esm.7f1cbbdf.js";import"./index.esm.28b35340.js";import"./FieldCustom.e664487c.js";import"./EyeIcon.2711c0d0.js";import"./useTranslation.6be11027.js";import"./index.esm.089565e5.js";const na=()=>{const m=h(P),{id:r}=y(),n=I(),d=j(),{data:e,isLoading:p,isSuccess:u,isError:l}=x(["detail_user",r],()=>F(+r),{enabled:!!r});return i(f,{title:"Edit User",children:[a(S,{label:"Edit User",useBackButton:!0}),a(B,{}),i(g,{x:6,y:6,children:[p&&a(D,{}),l&&a(_,{}),u&&i(U,{onSubmit:c=>{const s=new FormData;for(const[t,o]of Object.entries(c))t==="role"?s.append("roleId",o==null?void 0:o.value):s.append(t,o);m.mutate({id:+r,data:s},{onSuccess:t=>{n({position:"top",title:"Success",description:t.message,isClosable:!0}),d("/management/users")},onError:t=>v(t,n)})},id:"form-user",initialValues:{username:e.data.username,full_name:e.data.full_name,email:e.data.email,role:{label:e.data.role.name,value:e.data.roleId},address:e.data.address},children:[a(b,{}),a(L,{mt:5,justifyContent:"end",children:a(k,{type:"submit",leftIcon:a(E,{}),isLoading:m.isLoading,children:"Save"})})]})]})]})};export{na as default};
