import{c as y,a2 as P,e as b,aa as z,f as A,R as D,a as o,r as x,j as d,F as k}from"./index.2876ce8d.js";import{a as q}from"./PagePadding.01ff7a41.js";import{P as E}from"./PageHeader.af1fedb8.js";import{Q as N}from"./QuestionIcon.b2e0b7b2.js";import{B as _}from"./BeTable.e5c0962a.js";import{A as v}from"./AddIcon.21e4e8ec.js";import{d as M,g as B}from"./questionActions.04a5b17e.js";import{U as F}from"./useTableHelper.763dcc57.js";import{E as j}from"./EditIcon.753e8825.js";import{D as K}from"./DeleteIcon.d9371cb9.js";import{u as H,E as U}from"./useError.427e104a.js";import{o as L,c as V}from"./uiActions.dd00498c.js";import{C as $}from"./ConfirmDelete.c5ee4243.js";import{B as i}from"./index.esm.6e051443.js";import"./ArrowLeftIcon.de388376.js";import"./FilterIcon.b2078b68.js";import"./index.esm.ae337b1d.js";import"./index.esm.d399955a.js";import"./slicedToArray.84b5158f.js";import"./index.esm.f2cdd8ab.js";import"./index.esm.f54768d8.js";import"./SearchInput.79f6c32e.js";import"./useTranslation.251d09d2.js";import"./Pagination.5467061a.js";import"./ExpandLeftIcon.2a5c5954.js";import"./ExpandRightIcon.a9ec3603.js";import"./useDebounce.efc0032c.js";import"./index.esm.bd3da3a3.js";import"./objectWithoutPropertiesLoose.2d2ba74a.js";import"./inheritsLoose.982e29e1.js";const Pe=()=>{var c,p,l;const n=y(),r=P(),{setPagination:f,searchValue:m,pagination:s,handleSearch:g}=F(),u=b(),h=z(),Q=H(M),{data:e,isLoading:C}=A(["question_templates",{searchValue:m,...s}],()=>B({pageSize:s.pageSize,current:s.pageIndex+1,search:m}),{keepPreviousData:!1}),I=t=>{Q.mutate(t,{onSuccess:a=>{r({status:"success",title:"success",description:a.message,position:"top",isClosable:!0}),h.invalidateQueries(["question_templates"]),u(V())},onError:a=>U(a,r)})},S=t=>{u(L(o($,{onDelete:()=>I(t)}),"Apakah kamu yakin ingin menghapus template ini ?","sm"))},T=D.useMemo(()=>[{id:"No",width:"auto",header:"No",accessorFn:(t,a)=>a+1},{id:"Template Pertanyaan",header:"Template Pertanyaan",accessorKey:"name"},{id:"Total Pertanyaan",header:"Total Pertanyaan",accessorKey:"total_questions"},{id:"Action",header:"Action",cell:({row:t})=>o(x.exports.Fragment,{children:d(k,{gap:2,alignItems:"center",children:[o(i,{size:"sm",leftIcon:o(j,{}),variant:"outline",onClick:()=>n(`/master/setup-questions/edit/${t.original.id}`),children:"Edit"}),o(i,{size:"sm",onClick:()=>S(t.original.id),leftIcon:o(K,{}),colorScheme:"red",children:"Delete"})]})})}],[]);return d(q,{title:"Setup Questions",children:[o(E,{label:"Setup Questions",leftIcon:o(N,{fontSize:26}),additional:o(i,{leftIcon:o(v,{fontSize:20}),onClick:()=>n("/master/setup-questions/add"),children:"Add Questions"})}),o(_,{enableResizeColumn:!1,useSearchInput:!0,loading:C,onSearch:g,rowKey:(t,a,J)=>t==null?void 0:t.id,onChangeTable:f,pagination:{pageIndex:Number((c=e==null?void 0:e.page)!=null?c:0)-1,pageSize:Number((p=e==null?void 0:e.page_size)!=null?p:10)},pageCount:Number((l=e==null?void 0:e.page_count)!=null?l:0),totalRecords:e==null?void 0:e.total,data:(e==null?void 0:e.question_templates)||[],columns:T})]})};export{Pe as default};
