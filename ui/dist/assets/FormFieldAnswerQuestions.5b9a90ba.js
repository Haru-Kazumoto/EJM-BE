import{r as t,j as o,ap as $,F as c,a as e,D as v,aq as F,B as D}from"./index.4b216aca.js";import{b as g,F as m}from"./FormFieldControl.d2cb8e1b.js";import{F as I}from"./FieldText.7148c9fc.js";import{D as C}from"./DeleteIcon.6851d7ae.js";import{F as k}from"./FieldSelect.d5ee9940.js";import{F as A}from"./FieldSwitch.f2fa3f8b.js";import{A as T}from"./AddIcon.5e9ce272.js";import{T as p}from"./index.esm.685aa072.js";import{I as h}from"./index.esm.5a92b727.js";const y=t.exports.forwardRef(({parentName:a="conditions",formState:l,control:n,recalculateHeight:r=()=>{}},b)=>{const{fields:s,remove:d,append:u}=g({control:n,name:a});return o($,{templateColumns:"repeat(1,1fr)",gap:3,mt:4,children:[o(c,{gap:2,alignItems:"center",children:[e("small",{children:"Pilihan Kondisi"}),e(p,{label:"Tambah Pilihan Kondisi",children:e(h,{"aria-label":"add-options-condition",icon:e(T,{fontSize:10}),variant:"outline",onClick:()=>{u({name:null,is_mandatory:!1}),setTimeout(()=>{r()},100)},border:"none"})})]}),e(v,{my:2}),s&&s.map((w,i)=>e(F,{children:o(c,{gap:2,alignItems:"end",children:[e(m,{control:n,formState:l,label:`Kondisi ${i+1}`,id:`${a}.${i}.name`,name:`${a}.${i}.name`,rules:{required:{value:!0,message:"Dibutuhkan"}},children:e(I,{})}),e(m,{control:n,formState:l,label:"Wajib diisi?",id:`${a}.${i}.is_mandatory`,name:`${a}.${i}.is_mandatory`,rules:{required:{value:!1,message:"Dibutuhkan"}},children:e(A,{})}),e(p,{label:"Hapus Pilihan",children:e(h,{"aria-label":"remove",icon:e(C,{fontSize:26}),variant:"outline",onClick:()=>{d(i),setTimeout(()=>{r()},100)},border:"none"})})]})}))]})}),_=t.exports.forwardRef(({parentName:a="options",formState:l,control:n,recalculateHeight:r=()=>{}},b)=>{const s=t.exports.useRef(),{fields:d,append:u,remove:f}=g({control:n,name:a,rules:{minLength:1}});return t.exports.useImperativeHandle(b,()=>({appendQuestions(){u({name:null,value:null,conditions:[]})}})),o($,{templateColumns:"repeat(1,1fr)",gap:2,mt:4,children:[e("small",{children:"Pilihan Jawaban"}),e(v,{my:2}),d&&d.map((w,i)=>o(F,{children:[o(c,{gap:2,alignItems:"end",children:[e(m,{control:n,formState:l,label:`Jawaban ${i+1}`,id:`${a}.${i}.name`,name:`${a}.${i}.name`,rules:{required:{value:!0,message:"Dibutuhkan"}},children:e(I,{})}),e(m,{control:n,formState:l,label:"Nilai Jawaban",id:`${a}.${i}.value`,name:`${a}.${i}.value`,rules:{required:{value:!0,message:"Dibutuhkan"}},children:e(k,{options:[{label:"1",value:1},{label:"0",value:0}]})}),e(p,{label:"Hapus Pilihan",children:e(h,{"aria-label":"remove",icon:e(C,{fontSize:26}),variant:"outline",onClick:()=>{f(i),setTimeout(()=>{r()},100)},border:"none"})})]}),e(D,{ml:5,children:e(y,{ref:s,parentIndex:i,parentName:`${a}.${i}.conditions`,control:n,formState:l,recalculateHeight:r})})]}))]})});export{_ as F};
