import{c as y,e as P,d as b,Y as z,g as x,R as A,a as o,r as D,j as d,F as k}from"./index.0e24cb86.js";import{P as q}from"./Page.b0ec3cd0.js";import{P as E}from"./PageHeader.55df2133.js";import{Q as N}from"./QuestionIcon.6ba3c6f0.js";import{B as _}from"./BeTable.bd0a6b42.js";import{A as v}from"./AddIcon.52f4e4fc.js";import{d as B,g as F}from"./questionActions.28a337fa.js";import{U as M}from"./useTableHelper.5363dd1c.js";import{E as j}from"./EditIcon.0dd57a11.js";import{D as H}from"./DeleteIcon.85510701.js";import{u as K,E as U}from"./useError.ed61bdd7.js";import{o as L,c as V}from"./uiActions.408d82e2.js";import{C as Y}from"./ConfirmDelete.262b9563.js";import{B as i}from"./index.esm.726820fc.js";import"./PagePadding.f9f1bdac.js";import"./ArrowLeftIcon.12227cb3.js";import"./index.esm.008f63b2.js";import"./index.esm.25501534.js";import"./FilterIcon.eea7884e.js";import"./index.esm.9fed1f3b.js";import"./slicedToArray.49cdadd5.js";import"./index.esm.68da116c.js";import"./index.238261e4.js";import"./ErrorEmpty.82811164.js";import"./Pagination.656d36c1.js";import"./ExpandLeftIcon.708a001b.js";import"./ExpandRightIcon.0088b7a2.js";import"./useTranslation.d6d641af.js";import"./SearchInput.6e0cefa2.js";import"./useDebounce.f82902b3.js";import"./index.esm.3048a115.js";import"./objectWithoutPropertiesLoose.2d2ba74a.js";import"./inheritsLoose.5105dba6.js";const xe=()=>{var u,c,l;const n=y(),r=P(),{setPagination:g,searchValue:m,pagination:s,handleSearch:f}=M(),p=b(),h=z(),I=K(B),{data:e,isLoading:Q}=x(["question_templates",{searchValue:m,...s}],()=>F({pageSize:s.pageSize,current:s.pageIndex+1,search:m}),{keepPreviousData:!1}),C=t=>{I.mutate(t,{onSuccess:a=>{r({status:"success",title:"success",description:a.message,position:"top",isClosable:!0}),h.invalidateQueries(["question_templates"]),p(V())},onError:a=>U(a,r)})},S=t=>{p(L(o(Y,{onDelete:()=>C(t)}),"Apakah kamu yakin ingin menghapus template ini ?","sm"))},T=A.useMemo(()=>[{id:"No",width:"auto",header:"No",accessorFn:(t,a)=>a+1},{id:"Template Pertanyaan",header:"Template Pertanyaan",accessorKey:"name"},{id:"Total Pertanyaan",header:"Total Pertanyaan",accessorKey:"total_questions"},{id:"Action",header:"Action",cell:({row:t})=>o(D.exports.Fragment,{children:d(k,{gap:2,alignItems:"center",children:[o(i,{size:"sm",leftIcon:o(j,{}),variant:"outline",onClick:()=>n(`/master/setup-questions/edit/${t.original.id}`),children:"Edit"}),o(i,{size:"sm",onClick:()=>S(t.original.id),leftIcon:o(H,{}),colorScheme:"red",children:"Delete"})]})})}],[]);return d(q,{title:"Setup Questions",children:[o(E,{label:"Setup Questions",leftIcon:o(N,{fontSize:26}),additional:o(i,{leftIcon:o(v,{fontSize:20}),onClick:()=>n("/master/setup-questions/add"),size:{base:"xs",lg:"sm"},children:"Add Questions"})}),o(_,{enableResizeColumn:!1,useSearchInput:!0,loading:Q,onSearch:f,rowKey:(t,a,G)=>t==null?void 0:t.id,onChangeTable:g,pagination:{pageIndex:Number((u=e==null?void 0:e.page)!=null?u:0)-1,pageSize:Number((c=e==null?void 0:e.page_size)!=null?c:10)},pageCount:Number((l=e==null?void 0:e.page_count)!=null?l:0),totalRecords:e==null?void 0:e.total,data:(e==null?void 0:e.question_templates)||[],columns:T})]})};export{xe as default};
