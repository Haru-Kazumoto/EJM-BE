import{aj as c,R as U,r as x,a as p,j as g,h as b,am as M,T as k}from"./index.36e5c8e0.js";import{u as B,a as L,G as N,b as T}from"./useSelectDataMapper.533313d1.js";import{u as D}from"./useDebounce.3f476afc.js";import{S as Q}from"./select.3b6ee5a4.js";const v=async({pageSize:t,current:e,search:s,value:a,type:r})=>{const o=s&&s!=""?`&search=${s}`:"",u=a?`&value=${a}`:"";return(await c.get(`/master-lookup?type=${r}&page=${e!=null?e:1}&page_size=${t!=null?t:10}`+o+u)).data},G=U.forwardRef(({name:t,onChange:e,onBlur:s,value:a,isMulti:r=!1,placeholder:o,type_:u="",disabled:$=!1},i)=>{const[l,d]=x.exports.useState(""),j=D(l,1e3),{fetchNextPage:P,hasNextPage:m,isError:w,isSuccess:h,isLoading:y,data:q,isFetchingNextPage:f}=B(["fetch_select_lookup",j,u,a],({pageParam:n=1})=>v({current:n,search:j,value:a==null?void 0:a.value,type:u,pageSize:15}),{getNextPageParam:n=>N(n),getPreviousPageParam:n=>T(n)}),_=L({isSuccess:h,data:q!=null?q:{pages:[],pageParams:[]},key:"lookup",returnList:n=>({label:n.label,value:n.value})});return p(Q,{name:t,ref:i,onChange:e,onBlur:s,isDisabled:$,value:a,onInputChange:d,isMulti:r,isLoading:f||y,isClearable:!0,noOptionsMessage:({inputValue:n})=>p("div",{children:"Tidak ada pilihan"}),loadingMessage:({inputValue:n})=>g(b,{children:[g("div",{children:['Mencari "',n,'"']}),y&&p(M,{size:"xs",width:"100%",isIndeterminate:!0}),w&&p("div",{children:"Error saat mencari data"})]}),options:_,placeholder:p(k,{noOfLines:[1],children:o}),closeMenuOnScroll:!0,isSearchable:!0,onMenuScrollToBottom:async()=>{m&&await P()},closeMenuOnSelect:!0})}),E=async t=>(await c.post("/projects",t)).data,F=async({pageSize:t,current:e,search:s,project_type:a,project_status:r,company:o})=>{const u=s&&s!=""?`&search=${s}`:"",$=o?`&company=${o}`:"",i=a?`&project_type=${a}`:"",l=r?`&project_status=${r}`:"";return(await c.get(`/projects?page=${e!=null?e:1}&page_size=${t!=null?t:10}`+u+i+l+$)).data},V=async t=>(await c.get(`/projects/${t}`)).data,A=async({pageSize:t,current:e,search:s,answered_by:a,status_answered:r,id:o,prjId:u})=>{const $=s&&s!=""?`&search=${s}`:"",i=a?`&answered_by=${a}`:"",l=r?`&status_answered=${r}`:"";return(await c.get(`/projects/questions?structure_id=${o}&project_id=${u}&page=${e!=null?e:1}&page_size=${t!=null?t:10}`+$+i+l)).data},H=async t=>(await c.delete(`/projects/${t}`)).data,J=async t=>(await c.post("/projects/questions",t)).data,K=async t=>(await c.post("/projects/question/answer",t)).data,W=async({pageSize:t,current:e,search:s,company:a})=>{const r=s&&s!=""?`&search=${s}`:"";return(await c.get(`/projects/by-company?page=${e!=null?e:1}&page_size=${t!=null?t:10}&company_id=${a}`+r)).data},X=async({pageSize:t,current:e,search:s,project:a})=>{const r=s&&s!=""?`&search=${s}`:"";return(await c.get(`/projects/structure/by-project?page=${e!=null?e:1}&page_size=${t!=null?t:10}&project_id=${a}`+r)).data},Y=async({pageSize:t,current:e,search:s,project_id:a,project_type:r,project_status:o,company_id:u,structure_id:$})=>{const i=s&&s!=""?`&search=${s}`:"",l=o?`&project_status=${o}`:"",d=r?`&project_type=${r}`:"";return(await c.get(`/projects/report/questioner?page=${e!=null?e:1}&page_size=${t!=null?t:10}&project_id=${a}&company_id=${u}&structure_id=${$}`+i+d+l)).data},Z=async({payload:t,id:e})=>(await c.put(`/projects/info/${e}`,t)).data,S=async({structureId:t,projectId:e})=>(await c.get(`/projects/info-structure?structure_id=${t}&project_id=${e}`)).data;export{G as S,X as a,V as b,J as c,H as d,E as e,K as f,F as g,S as h,A as i,W as j,Y as k,Z as u};
