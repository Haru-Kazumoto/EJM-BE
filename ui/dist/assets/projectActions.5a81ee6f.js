import{aj as c,R as f,r as U,a as p,j as g,h as x,am as b,T as M}from"./index.990a5e8d.js";import{u as k,a as B,G as L,b as N}from"./useSelectDataMapper.40d26318.js";import{u as T}from"./useDebounce.51d664ab.js";import{S as D}from"./select.1937eae9.js";const Q=async({pageSize:t,current:e,search:s,value:a,type:r})=>{const o=s&&s!=""?`&search=${s}`:"",u=a?`&value=${a}`:"";return(await c.get(`/master-lookup?type=${r}&page=${e!=null?e:1}&page_size=${t!=null?t:10}`+o+u)).data},C=f.forwardRef(({name:t,onChange:e,onBlur:s,value:a,placeholder:r,type_:o="",disabled:u=!1},$)=>{const[i,d]=U.exports.useState(""),l=T(i,1e3),{fetchNextPage:q,hasNextPage:P,isError:m,isSuccess:w,isLoading:y,data:j,isFetchingNextPage:h}=k(["fetch_select_lookup",l,o,a],({pageParam:n=1})=>Q({current:n,search:l,value:a==null?void 0:a.value,type:o,pageSize:15}),{getNextPageParam:n=>L(n),getPreviousPageParam:n=>N(n)}),_=B({isSuccess:w,data:j!=null?j:{pages:[],pageParams:[]},key:"lookup",returnList:n=>({label:n.label,value:n.value})});return p(D,{name:t,ref:$,onChange:e,onBlur:s,isDisabled:u,value:a,onInputChange:d,isLoading:h||y,isClearable:!0,noOptionsMessage:({inputValue:n})=>p("div",{children:"Tidak ada pilihan"}),loadingMessage:({inputValue:n})=>g(x,{children:[g("div",{children:['Mencari "',n,'"']}),y&&p(b,{size:"xs",width:"100%",isIndeterminate:!0}),m&&p("div",{children:"Error saat mencari data"})]}),options:_,placeholder:p(M,{noOfLines:[1],children:r}),closeMenuOnScroll:!0,isSearchable:!0,onMenuScrollToBottom:async()=>{P&&await q()},closeMenuOnSelect:!0})}),G=async t=>(await c.post("/projects",t)).data,E=async({pageSize:t,current:e,search:s,project_type:a,project_status:r,company:o})=>{const u=s&&s!=""?`&search=${s}`:"",$=o?`&company=${o}`:"",i=a?`&project_type=${a}`:"",d=r?`&project_status=${r}`:"";return(await c.get(`/projects?page=${e!=null?e:1}&page_size=${t!=null?t:10}`+u+i+d+$)).data},F=async t=>(await c.get(`/projects/${t}`)).data,V=async({pageSize:t,current:e,search:s,answered_by:a,status_answered:r,id:o,prjId:u})=>{const $=s&&s!=""?`&search=${s}`:"",i=a?`&answered_by=${a}`:"",d=r?`&status_answered=${r}`:"";return(await c.get(`/projects/questions?structure_id=${o}&project_id=${u}&page=${e!=null?e:1}&page_size=${t!=null?t:10}`+$+i+d)).data},A=async t=>(await c.delete(`/projects/${t}`)).data,H=async t=>(await c.post("/projects/questions",t)).data,J=async t=>(await c.post("/projects/question/answer",t)).data,K=async({pageSize:t,current:e,search:s,company:a})=>{const r=s&&s!=""?`&search=${s}`:"";return(await c.get(`/projects/by-company?page=${e!=null?e:1}&page_size=${t!=null?t:10}&company_id=${a}`+r)).data},W=async({pageSize:t,current:e,search:s,project:a})=>{const r=s&&s!=""?`&search=${s}`:"";return(await c.get(`/projects/structure/by-project?page=${e!=null?e:1}&page_size=${t!=null?t:10}&project_id=${a}`+r)).data},X=async({pageSize:t,current:e,search:s,project_id:a,project_type:r,project_status:o,company_id:u,structure_id:$})=>{const i=s&&s!=""?`&search=${s}`:"",d=o?`&project_status=${o}`:"",l=r?`&project_type=${r}`:"";return(await c.get(`/projects/report/questioner?page=${e!=null?e:1}&page_size=${t!=null?t:10}&project_id=${a}&company_id=${u}&structure_id=${$}`+i+l+d)).data},Y=async({payload:t,id:e})=>(await c.put(`/projects/info/${e}`,t)).data,Z=async({structureId:t,projectId:e})=>(await c.get(`/projects/info-structure?structure_id=${t}&project_id=${e}`)).data;export{C as S,W as a,F as b,H as c,A as d,G as e,J as f,E as g,Z as h,V as i,K as j,X as k,Y as u};
